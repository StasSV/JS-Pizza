<% include header.ejs %>

<div class="order">


    <div class="forms">

        <h2 class="contacts">1.Контактні дані</h2>

        <div class="col-sm-8">

            <div class="left">

                <div class="form-group name-group">
                    <div class="col-sm-6">
                        <label class="names">
                            Ім'я
                        </label>
                    </div>
                    <div class="col-sm-6">
                        <input type="Text" id="user_name" class="form-control" placeholder="Type your name here"
                               oninput="readName()">
                    </div>
                    <span class="help-block">Enter ONLY your name & surname</span>
                </div>

                <div class="form-group name-group">
                    <div class="col-sm-6">
                        <label class="names">
                            Телефон
                        </label>
                    </div>
                    <div class="col-sm-6">
                        <input type="Text" id="user_phone" class="form-control" placeholder="+380000000000"
                               oninput="readPhone()">
                    </div>


                    <span class="help-block">Enter your phone number </span>
                </div>

                <div class="form-group phone-group">
                    <div class="col-sm-6">
                        <label class="names">
                            Адреса
                        </label>
                    </div>
                    <div class="col-sm-6">
                        <input type="Text" id="user_adress" class="form-control" placeholder="Your Adress"
                               oninput="readAdress()"></div>
                    <span class="help-block">Enter your phone number </span>
                </div>


            </div>
        </div>

        <script> // THIS IS FOR CHECKING VALIDATION OF INPUT AREAS
            function readName() {

                var name = document.getElementById("user_name");
                var x = name.value;
                var regex = /^[0-9]+$/;
                if (x.charAt(x.length - 1).match(regex)) {
                    name.style.backgroundColor = "#ffc1c3";
                    name.style.color = "red";
                } else {
                    name.style.backgroundColor = "#b8ffb7";
                    name.style.color = "green ";
                }
                if (x.length == 0) {
                    name.style.backgroundColor = "#ffc1c3";
                    name.style.color = "red ";
                }
            }
            var maxcount = 13;
            function readPhone() {
                var phone = document.getElementById("user_phone");
                var x = phone.value;
                var regex = /^[0-9]+$/;
                if (!x.charAt(x.length - 1).match(regex)) {
                    phone.style.backgroundColor = "#ffc1c3";
                    phone.style.color = "red ";
                } else {
                    phone.style.backgroundColor = "#b8ffb7";
                    phone.style.color = "green";
                }
                if (x.length !== maxcount) {
                    phone.style.backgroundColor = "#ffc1c3";
                    phone.style.color = "red ";
                }
            }
            function readAdress() {
                var adress = document.getElementById("user_adress");
                var x = adress.value;
                if (x.length == 0) {
                    adress.style.backgroundColor = "#ffc1c3";
                    adress.style.color = "red ";
                } else {
                    adress.style.backgroundColor = "#b8ffb7";
                    adress.style.color = "green";
                }
            }
            function sendData() {
                var $name = document.getElementById("user_name").value;
                var $phone = document.getElementById("user_phone").value;
                var $adress = document.getElementById("user_adress").value;
//                document.getElementById("adressStatus").value = $adress;
//                var content = require('../../API');
//                content.createOrder($name, function (err, order_info, callback) {
//                });
//                content.createOrder($phone, function (err, order_info, callback) {
//                });
//                content.createOrder($adress, function (err, order_info, callback) {
//                });
                console.log("success");
            }
        </script>

        <div class="col-sm-4">
            <div class="right">
                <div class="infoOrder">
                    <div class="infoHead">
                        Інформація про замовлення
                    </div>
                    <div class="time">
                        <b>
                            Приблизний час доставки:
                        </b>
                        <span class="timeStatus">
                            невідомий
                        </span>
                    </div>

                    <div class="adress">
                        <b>
                            Адреса доставки:
                        </b>
                        <span class="adressStatus">
                            невідома
                        </span>
                    </div>


                </div>
            </div>
        </div>

        <button type="next" class="btn btn-warning" onclick="sendData()"><b>Далі ></b></button>


    </div>

    <div class="rightPanel ">
        <div class="rTop">
        <span class="order">
            Замовлення
        </span>

            <label class="label label-warning inCart">
                0
            </label>
            <br>
            <span class="clear">Очистити замовлення</span>
        </div>

        <div id="cart" class="rContainer">


        </div>

        <div class="rBottom">
            <div class="sumText">
                <b>Сума замовлення</b>
            </div>
            <div class="sum">
                <b>
                    <span class="summ">0</span> грн.</b>
            </div>
            <div class="rb">
                <div class="col-sm-12 col-md-12">
                    <button type="accept" class="btn btn-lg btn-warning">Замовити</button>
                </div>
            </div>
        </div>

    </div>
</div>


<!--<div id="map" style="width:700px;height:400px;background:yellow;-->
<!--margin-left:auto;margin-right:auto;margin-top: 35%"></div>-->


<!--<script>-->
<!--function myMap() {-->
<!--//Тут починаємо працювати з картою-->
<!--var mapProp = {-->
<!--center: new google.maps.LatLng(50.464379,30.519131),-->
<!--zoom: 11-->
<!--};-->
<!--var html_element = document.getElementById("googleMap");-->
<!--var map = new google.maps.Map(html_element, mapProp);-->
<!--//Карта створена і показана-->
<!--}-->
<!--//Коли сторінка завантажилась-->
<!--google.maps.event.addDomListener(window, 'load', initialize);-->
<!--</script>-->
<!--<div id="map">-->
    <!--<iframe width="600" height="450" frameborder="0" style="border:0"-->
            <!--src="https://www.google.com/maps/embed/v1/directions?origin=place_id:ChIJ05GAS4a21EARYeLRXmjSoWQ&destination=place_id:ChIJBUVa4U7P1EAR_kYBF9IxSXY&key=AIzaSyD2biXp0mMOXjOqzgNKhREM-H4OG-2rc-g"-->
            <!--allowfullscreen></iframe>-->

    <!--&lt;!&ndash;<script type="text/javascript"&ndash;&gt;-->
    <!--&lt;!&ndash;src="http://maps.googleapis.com/maps/api/js?key=AIzaSyD2biXp0mMOXjOqzgNKhREM-H4OG-2rc-g">&ndash;&gt;-->
    <!--&lt;!&ndash;</script>&ndash;&gt;-->


    <!--&lt;!&ndash;<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD2biXp0mMOXjOqzgNKhREM-H4OG-2rc-g"></script>&ndash;&gt;-->


    <!--&lt;!&ndash;var map=new google.maps.Map(document.getElementById("map"), mapOptions);&ndash;&gt;-->
<!--</div>-->


<script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD2biXp0mMOXjOqzgNKhREM-H4OG-2rc-g">
</script>

<div id="mapjs"style="width:700px;height:400px;background:yellow;
margin-left:auto;margin-right:auto;margin-top: 35%"><p>map is here</p>
<button id="bMap" onclick="initMap()"></button>
</div>
<script>
    function initMap() {
        var chicago = {lat: 41.85, lng: -87.65};
        var indianapolis = {lat: 39.79, lng: -86.14};
        if(document.getElementById('mapjs')){
            alert("ok");
        } else{
            alert("notOk");
        }

        var map = new google.maps.Map(document.getElementById('mapjs'), {
            center: new google.maps.LatLng(50.464379,30.519131),
            zoom: 11
        });

        var directionsDisplay = new google.maps.DirectionsRenderer({
            map: map
        });

        // Set destination, origin and travel mode.
        var request = {
            destination: indianapolis,
            origin: chicago,
            travelMode: 'DRIVING'
        };

        // Pass the directions request to the directions service.
        var directionsService = new google.maps.DirectionsService();
        directionsService.route(request, function(response, status) {
            if (status == 'OK') {
                // Display the route on the map.
                directionsDisplay.setDirections(response);
            }
        });
    }

</script>
<!--<script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap"-->
        <!--async defer></script>-->


<% include footer.ejs %>